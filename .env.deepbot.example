# =========================================================
# Deepbot runtime env (gateway/app only)
# This file must NOT contain upstream provider secrets.
# =========================================================
DISCORD_BOT_TOKEN=your_discord_bot_token
# Internal auth key for deepbot -> litellm.
# Must match LITELLM_MASTER_KEY in .env.litellm.
OPENAI_API_KEY=change-this-litellm-key
AUTH_PASSPHRASE=change-this-passphrase

# Model alias defined in config/litellm.yaml
OPENAI_MODEL_ID=gpt-4o-mini
STRANDS_MODEL_PROVIDER=openai
STRANDS_MODEL_CONFIG={"params":{"temperature":0.2}}

# App paths / runtime
DEEPBOT_CONFIG_DIR=/app/config
MCP_CONFIG_PATH=/app/config/mcp.json
MCP_HOST_GATEWAY=host.docker.internal
WORKSPACE_DIR=/workspace
AGENT_MEMORY_DIR=/workspace/agent-memory/memory
STRANDS_TOOL_CONSOLE_MODE=disable
BYPASS_TOOL_CONSENT=true

# Short-term memory settings
SESSION_MAX_TURNS=10
SESSION_TTL_MINUTES=30

# Gateway behavior
AUTO_REPLY_ALL=true
AGENT_TIMEOUT_SECONDS=45
BOT_FALLBACK_MESSAGE=今ちょっと調子が悪いです。少し待ってからもう一度お願いします。
BOT_PROCESSING_MESSAGE=お調べしますね。少しお待ちください。
LOG_LEVEL=INFO

# Dangerous tool controls
DANGEROUS_TOOLS_ENABLED=false
ENABLED_DANGEROUS_TOOLS=shell,file_read
SHELL_SRT_ENFORCED=true
SHELL_SRT_SETTINGS_PATH=/app/config/srt-settings.json
SHELL_DENY_PATH_PREFIXES=/app
TOOL_WRITE_ROOTS=/workspace

# Prompt/attachment security controls
DEFENDER_ENABLED=true
DEFENDER_DEFAULT_MODE=warn
DEFENDER_WARN_THRESHOLD=0.35
DEFENDER_BLOCK_THRESHOLD=0.95
DEFENDER_SANITIZE_MODE=full-redact
ATTACHMENT_ALLOWED_HOSTS=cdn.discordapp.com,media.discordapp.net

# Auth gate behavior
AUTH_REQUIRED=true
AUTH_COMMAND=/auth
AUTH_IDLE_TIMEOUT_MINUTES=15
AUTH_WINDOW_MINUTES=10
AUTH_MAX_RETRIES=3
AUTH_LOCK_MINUTES=30
